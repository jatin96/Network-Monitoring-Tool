if (self.CavalryLogger) { CavalryLogger.start_js(["HSDEN"]); }

__d('SearchSourceQueryStatus',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={ACTIVE:'ACTIVE',COMPLETE:'COMPLETE'};f.exports=h;},null);
__d('SearchableTextInput.react',['EventListener','React','AbstractTextInput.react','getActiveElement','areEqual'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'SearchableTextInput',propTypes:babelHelpers['extends']({},c('AbstractTextInput.react').propTypes,{queryString:h.string,searchSource:h.object,searchSourceOptions:h.object,onEntriesFound:h.func.isRequired,searchOnFocus:h.bool,searchOnUpdate:h.bool,required:h.bool,onPaste:h.func,onFocus:h.func,onChange:h.func}),componentDidMount:function(){if(this.props.onPaste)this._listener=c('EventListener').listen(this.refs.input.getTextFieldDOM(),'paste',this.props.onPaste);},componentWillReceiveProps:function(j){if(j.searchSourceOptions&&!c('areEqual')(j.searchSourceOptions,this.props.searchSourceOptions))this.search(this.props.queryString,j.searchSourceOptions);},componentDidUpdate:function(j){if(this.props.searchOnUpdate)if(j.queryString!==this.props.queryString)this.search(this.props.queryString);},componentWillUnmount:function(){if(this._listener){this._listener.remove();this._listener=null;}},_onInputFocus:function(){this.props.searchSource.bootstrap(function(){if(this.props.searchOnFocus)this.search(this.props.queryString);}.bind(this));this.props.onFocus&&this.props.onFocus();},_onSearchCallback:function(j,k,l){if(this.props.queryString===k)this.props.onEntriesFound(j,k,l);},_onChange:function(event){this.props.onChange&&this.props.onChange(event);var j=event.target.value;setTimeout(function(){return this.search(j);}.bind(this));},search:function(j,k){this.props.searchSource.search(j,this._onSearchCallback,k||this.props.searchSourceOptions);},focusInput:function(){var j=this.getTextFieldDOM();if(c('getActiveElement')()===j){this._onInputFocus();}else j.offsetHeight&&j.focus();},blurInput:function(){var j=this.getTextFieldDOM();j.offsetHeight&&j.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();},render:function(){var j=this.props.queryString||'';return (c('React').createElement(c('AbstractTextInput.react'),babelHelpers['extends']({},this.props,{onChange:this._onChange,onFocus:this._onInputFocus,ref:'input',role:'combobox',value:j})));}});f.exports=i;},null);
__d("TypeaheadNavigation",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={moveUp:function(i,j,k){var l=i.indexOf(j),m=l==-1?i.length-1:l-1;k(m==-1?null:i[m]);},moveDown:function(i,j,k){var l=i.indexOf(j)+1;k(l==i.length?null:i[l]);}};f.exports=h;},null);
__d('TypeaheadView.react',['cx','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'TypeaheadView',propTypes:{entries:i.array.isRequired,extraRendererProps:i.object,highlightedEntry:i.object,isVisible:i.bool,queryString:i.string,Renderer:i.func,selectedEntry:i.object},_onSelect:function(k,l){if(this.props.onSelect)this.props.onSelect(k,l);},_onHighlight:function(k){this.props.onHighlight(k);},render:function(){var k=this.props,l=k.extraRendererProps,m=k.isVisible,n=k.Renderer,o=babelHelpers.objectWithoutProperties(k,['extraRendererProps','isVisible','Renderer']);return (c('React').createElement('div',{className:!m?"hidden_elem":''},n?c('React').createElement(n,babelHelpers['extends']({},o,l)):null));}});f.exports=j;},null);
__d('AbstractTypeahead.react',['cx','AbstractTextField.react','ContextualLayer.react','InputSelection','React','ReactLayeredComponentMixin','SearchableTextInput.react','SearchSourceQueryStatus','TypeaheadNavigation','TypeaheadView.react','clearImmediate','getOrCreateDOMID','joinClasses','setImmediate','uniqueID'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=[],k=10,l=c('React').createClass({displayName:'AbstractTypeahead',mixins:[c('ReactLayeredComponentMixin')],propTypes:babelHelpers['extends']({},c('AbstractTextField.react').propTypes,{additionalElements:i.node,inputClassName:i.string,inputID:i.string,inputStyle:i.object,autoCapitalize:i.string,autoComplete:i.string,autoCorrect:i.string,queryString:i.string,searchSource:i.object.isRequired,searchSourceOptions:i.object,excludedEntries:i.object,presenter:i.object.isRequired,onSelectAttempt:i.func,onEntriesFound:i.func,onNoEntriesFound:i.func,onEnterWithoutSelection:i.func,autoHighlight:i.bool,showEntriesOnFocus:i.bool,selectOnBlur:i.bool,blurOnWindowBlur:i.bool,selectOnTab:i.bool,focusedOnInit:i.bool,hideViewWithEntries:i.bool,disabled:i.bool,entriesWidthMatchContext:i.bool,selectedEntry:i.object,onTypeaheadVisibilityChanged:i.func,onPaste:i.func,navigation:i.object}),getDefaultProps:function(){return {autoComplete:'off',autoCorrect:'off',blurOnWindowBlur:true,selectOnBlur:false,selectOnTab:true,hideViewWithEntries:true,entriesWidthMatchContext:true,navigation:c('TypeaheadNavigation')};},getInitialState:function(){return {highlightedEntry:null,isArrowNavigation:false,isAutoHighlight:this.props.autoHighlight,ariaActiveDescendantID:null,ariaOwneeID:c('uniqueID')(),activeEntries:null,focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit};},_onRenderHighlight:function(m){var n=c('getOrCreateDOMID')(m);this.setState({ariaActiveDescendantID:n});},_determineViewVisibility:function(m,n){if(!m)return false;var o=m.length>0&&(this.props.showEntriesOnFocus||this.props.queryString.length>0);return !!(n&&(this.props.presenter.alwaysVisibleOnFocus||o));},_onEntriesFound:function(m,n,o){if(!this.isMounted())return;if(this.props.excludedEntries){var p=this.props.excludedEntries;m=m.filter(function(x){return !p.hasOwnProperty(x.getUniqueID());});}var q=this.props.presenter,r=typeof q.sortEntries=='function'?q.sortEntries(m,this.state.activeEntries,this.props.queryString):m,s=r.slice(0,q.maxEntries||k),t=this._determineViewVisibility(s,this.state.focused);if(!s.length){this.setState({ariaActiveDescendantID:null,activeEntries:s,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight});this._setViewIsVisible(t);if(this.props.onNoEntriesFound&&o===c('SearchSourceQueryStatus').COMPLETE)this.props.onNoEntriesFound();return;}if(this.props.onEntriesFound)this.props.onEntriesFound(s,o);var u=this.state.highlightedEntry,v=u&&s.indexOf(u)!==-1;if(!this.props.autoHighlight){this.setState({activeEntries:s,highlightedEntry:v?u:null});if(t)this._setViewIsVisible(true);return;}var w=this.state.isAutoHighlight;if(w){u=s[0];}else{u=v?u:s[0];w=!v;}this.setState({activeEntries:s,highlightedEntry:u,isAutoHighlight:w});if(t)this._setViewIsVisible(true);},_onInputFocus:function(){var m=this._determineViewVisibility(this.state.activeEntries,true);if(m)this._setViewIsVisible(true);this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onInputBlurWindowSafe:function(){var m=void 0,n=Event.listen(window,'blur',function(){n.remove();c('clearImmediate')(m);});m=c('setImmediate')(function(){n.remove();this._onInputBlur();}.bind(this));},_onInputBlur:function(){this.setState({focused:false});if(this.props.hideViewWithEntries)this._close();if(this.props.selectOnBlur&&this.state.highlightedEntry)this.props.onSelectAttempt(this.state.highlightedEntry);this.props.onBlur&&this.props.onBlur();},_onInputClick:function(m){var n=this.getTextFieldDOM(),o=c('InputSelection').get(n);if(o&&o.start==o.end)n.select();this.props.onClick&&this.props.onClick(m);},_onEscape:function(){this._close();this.blurInput();this.setState({focused:false});this.props.onEscape&&this.props.onEscape();},_onEnter:function(event){if(this.props.onEnterWithoutSelection&&(!this.state.viewIsVisible||!this.state.highlightedEntry)){this.props.onEnterWithoutSelection(event);return;}if(!this.state.viewIsVisible)return;if(!this.state.highlightedEntry){event.preventDefault();return;}if(this.props.hideViewWithEntries)this._close();if(this.props.onSelectAttempt)this.props.onSelectAttempt(this.state.highlightedEntry,event);event.preventDefault();},_onTab:function(event){if(this.props.selectOnTab&&this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry){if(this.props.hideViewWithEntries){this._close();event.preventDefault();}this.props.onSelectAttempt(this.state.highlightedEntry,event);}},_onDownArrow:function(event){event.preventDefault();this.props.navigation.moveDown(this.state.activeEntries||j,this.state.highlightedEntry,this._setHighlight);},_onUpArrow:function(event){event.preventDefault();this.props.navigation.moveUp(this.state.activeEntries||j,this.state.highlightedEntry,this._setHighlight);},_setHighlight:function(m){this.setState({highlightedEntry:m,isArrowNavigation:true,isAutoHighlight:!m});},_onInputChange:function(event){if(this.props.onChange)this.props.onChange(event);this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||event.target.value.length>0)&&(this.props.presenter.alwaysVisibleOnFocus||this.state.activeEntries!=null&&this.state.activeEntries.length>0));},_onViewHighlight:function(m){this.setState({highlightedEntry:m,isArrowNavigation:false,isAutoHighlight:false});},_getView:function(){return (c('React').createElement(c('TypeaheadView.react'),{Renderer:this.props.presenter.ViewRenderer,extraRendererProps:babelHelpers['extends']({},this.props.presenter.extraRendererProps,{isArrowNavigation:this.state.isArrowNavigation}),highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,isVisible:this.state.viewIsVisible,ariaOwneeID:this.state.ariaOwneeID,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries||j,queryString:this.props.queryString}));},_setViewIsVisible:function(m){if(m!==this.state.viewIsVisible){if(this.props.onTypeaheadVisibilityChanged)this.props.onTypeaheadVisibilityChanged(m,this.state.activeEntries||j);this.setState({viewIsVisible:m});}},componentWillReceiveProps:function(m){if(!m.queryString&&!this.props.showEntriesOnFocus)this.clearActiveEntries();},componentDidUpdate:function(){var m=this._determineViewVisibility(this.state.activeEntries,this.state.focused);if(m)this._setViewIsVisible(true);},renderLayers:function(){if(!this.props.presenter.useLayer)return {};var m=null,n=null;if(this.props.context){m=this.props.context;}else n=function(){return this.refs.input;}.bind(this);return {typeaheadView:c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.presenter.alignment,behaviors:this.props.presenter.layerBehaviors,containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:n,context:m,position:this.props.presenter.layerPosition||"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:false},this._getView())};},render:function(){var m=this.state.activeEntries,n=!!(m&&m.length),o=c('React').createElement(c('SearchableTextInput.react'),{'aria-activedescendant':this.state.ariaActiveDescendantID,'aria-expanded':n,'aria-autocomplete':'list','aria-label':this.props.ariaLabel,'aria-owns':this.state.ariaOwneeID,required:this.props.required,ref:'input',autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:this.props.inputClassName,id:this.props.inputID,queryString:this.props.queryString,placeholder:this.props.placeholder,maxLength:this.props.maxLength,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,disabled:this.props.disabled,onEntriesFound:this._onEntriesFound,onEscape:this._onEscape,onBlur:this.props.blurOnWindowBlur?this._onInputBlur:this._onInputBlurWindowSafe,onFocus:this._onInputFocus,onChange:this._onInputChange,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,onTab:this._onTab,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick,style:this.props.inputStyle,tabIndex:this.props.tabIndex,'data-testid':this.props['data-testid']}),p=null;if(!this.props.presenter.useLayer)p=this._getView();return (c('React').createElement('span',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_58ah"),onBlur:null,onChange:null,onClick:null,onFocus:null,tabIndex:null}),o,this.props.additionalElements,p));},componentDidMount:function(){if(this.props.focusedOnInit)this.focusInput();},clearActiveEntries:function(){this.setState({ariaActiveDescendantID:null,activeEntries:null,highlightedEntry:null});},focusInput:function(){var m=this.getTextFieldDOM();if(m.value)c('InputSelection').set(m,m.value.length);this.refs.input.focusInput();},blurInput:function(){if(this.refs.input.blur){this.refs.input.blur();}else if(this.refs.input.blurInput)this.refs.input.blurInput();},hideView:function(){this._setViewIsVisible(false);},_close:function(){this._setViewIsVisible(false);this.clearActiveEntries();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();}});f.exports=l;},null);
__d('AbstractSearchSource',['Promise'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.bootstrap=function(i){'use strict';if(!this.$AbstractSearchSource1)this.$AbstractSearchSource1=new (c('Promise'))(function(j){this.bootstrapImpl(j);}.bind(this));return this.$AbstractSearchSource1.then(i);};h.prototype.search=function(i,j,k){'use strict';this.searchImpl(i,j,k);};h.prototype.bootstrapImpl=function(i){'use strict';i();};h.prototype.searchImpl=function(i,j,k){'use strict';throw new Error('Abstract method #searchImpl is not implemented.');};h.prototype.clearBootstrappedData=function(){'use strict';this.$AbstractSearchSource1=null;};function h(){'use strict';}f.exports=h;},null);
__d('SearchSourceCallbackManager',['invariant','SearchSourceQueryStatus','createObjectFrom'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('SearchSourceQueryStatus').ACTIVE,j=c('SearchSourceQueryStatus').COMPLETE;function k(m){'use strict';this.$SearchSourceCallbackManager1=m.parseFn;!(typeof this.$SearchSourceCallbackManager1==='function')?h(0):void 0;this.$SearchSourceCallbackManager2=m.matchFn;!(typeof this.$SearchSourceCallbackManager2==='function')?h(0):void 0;this.$SearchSourceCallbackManager3=m.alwaysPrefixMatch||false;this.$SearchSourceCallbackManager4=m.indexFn||l;this.reset();}k.prototype.search=function(m,n,o){'use strict';var p=this.$SearchSourceCallbackManager5(m,n,o);if(p)return 0;this.$SearchSourceCallbackManager6.push({queryString:m,callback:n,options:o});var q=this.$SearchSourceCallbackManager6.length-1;this.$SearchSourceCallbackManager7.push(q);return q;};k.prototype.$SearchSourceCallbackManager5=function(m,n,o){'use strict';var p=this.$SearchSourceCallbackManager8(m),q=!!this.$SearchSourceCallbackManager9[m];if(!p.length){n([],m,q?j:i);return q;}var r=p.map(function(s){return this.$SearchSourceCallbackManager10[s];},this);n(r,m,q?j:i);return q;};k.prototype.$SearchSourceCallbackManager11=function(){'use strict';var m=this.$SearchSourceCallbackManager7;this.$SearchSourceCallbackManager7=[];m.forEach(this.$SearchSourceCallbackManager12,this);};k.prototype.$SearchSourceCallbackManager12=function(m){'use strict';var n=this.$SearchSourceCallbackManager6[m];if(!n)return;var o=this.$SearchSourceCallbackManager5(n.queryString,n.callback,n.options);if(o){delete this.$SearchSourceCallbackManager6[m];return;}this.$SearchSourceCallbackManager7.push(m);};k.prototype.reset=function(){'use strict';this.$SearchSourceCallbackManager10={};this.$SearchSourceCallbackManager13={};this.$SearchSourceCallbackManager14={};this.$SearchSourceCallbackManager15={};this.$SearchSourceCallbackManager9={};this.$SearchSourceCallbackManager7=[];this.$SearchSourceCallbackManager6=[undefined];};k.prototype.addLocalEntries=function(m){'use strict';m.forEach(function(n){var o=n.getUniqueID(),p=this.$SearchSourceCallbackManager4(n);this.$SearchSourceCallbackManager10[o]=n;this.$SearchSourceCallbackManager13[o]=p;var q=this.$SearchSourceCallbackManager1(p);q.tokens.forEach(function(r){if(!this.$SearchSourceCallbackManager14.hasOwnProperty(r))this.$SearchSourceCallbackManager14[r]={};this.$SearchSourceCallbackManager14[r][o]=true;},this);},this);this.$SearchSourceCallbackManager11();};k.prototype.addQueryEntries=function(m,n,o){'use strict';if(o===j)this.setQueryStringAsExhausted(n);var p=this.$SearchSourceCallbackManager8(n),q=this.$SearchSourceCallbackManager1(n).flatValue;this.$SearchSourceCallbackManager15[q]=c('createObjectFrom')(p,true);m.forEach(function(r){var s=r.getUniqueID();this.$SearchSourceCallbackManager10[s]=r;this.$SearchSourceCallbackManager13[s]=this.$SearchSourceCallbackManager4(r);this.$SearchSourceCallbackManager15[q][s]=true;},this);this.$SearchSourceCallbackManager11();};k.prototype.unsubscribe=function(m){'use strict';delete this.$SearchSourceCallbackManager6[m];};k.prototype.removeEntry=function(m){'use strict';delete this.$SearchSourceCallbackManager10[m];};k.prototype.getAllEntriesMap=function(){'use strict';return this.$SearchSourceCallbackManager10;};k.prototype.setQueryStringAsExhausted=function(m){'use strict';this.$SearchSourceCallbackManager9[m]=true;};k.prototype.unsetQueryStringAsExhausted=function(m){'use strict';delete this.$SearchSourceCallbackManager9[m];};k.prototype.$SearchSourceCallbackManager8=function(m){'use strict';var n=this.$SearchSourceCallbackManager16(m,this.$SearchSourceCallbackManager17(m)),o=this.$SearchSourceCallbackManager16(m,this.$SearchSourceCallbackManager18(m)),p=n.concat(o),q={},r=[];p.forEach(function(s){if(!q[s]&&this.$SearchSourceCallbackManager10[s]!==undefined){r.push(s);q[s]=true;}},this);return r;};k.prototype.$SearchSourceCallbackManager16=function(m,n){'use strict';var o=this.$SearchSourceCallbackManager19(m,n),p=this.$SearchSourceCallbackManager10;function q(r,s){if(o[r]!==o[s])return o[r]?-1:1;var t=p[r],u=p[s];if(t.getOrder()!==u.getOrder())return t.getOrder()-u.getOrder();var v=t.getTitle().length,w=u.getTitle().length;if(v!==w)return v-w;return t.getUniqueID()-u.getUniqueID();}return n.sort(q).slice();};k.prototype.$SearchSourceCallbackManager19=function(m,n){'use strict';var o={};n.forEach(function(p){o[p]=this.$SearchSourceCallbackManager2(m,this.$SearchSourceCallbackManager13[p]);},this);return o;};k.prototype.$SearchSourceCallbackManager17=function(m){'use strict';var n=this.$SearchSourceCallbackManager1(m,this.$SearchSourceCallbackManager3),o=this.$SearchSourceCallbackManager3?n.sortedTokens:n.tokens,p=o.length,q=n.isPrefixQuery?p-1:null,r={},s={},t={},u=false,v={},w=0;o.forEach(function(y,z){if(v.hasOwnProperty(y))return;w++;v[y]=true;for(var aa in this.$SearchSourceCallbackManager14){var ba=aa===y&&!r.hasOwnProperty(aa),ca=false;if(!ba)ca=(this.$SearchSourceCallbackManager3||q===z)&&aa.indexOf(y)===0;if(!ba&&!ca)continue;if(aa===y){if(s.hasOwnProperty(aa))u=true;r[aa]=true;}else{if(r.hasOwnProperty(aa)||s.hasOwnProperty(aa))u=true;s[aa]=true;}for(var da in this.$SearchSourceCallbackManager14[aa])if(z===0||t.hasOwnProperty(da)&&t[da]==w-1)t[da]=w;}},this);var x=Object.keys(t).filter(function(y){return t[y]==w;});if(u||w<p)x=this.$SearchSourceCallbackManager20(m,x);return x;};k.prototype.$SearchSourceCallbackManager18=function(m){'use strict';var n=this.$SearchSourceCallbackManager1(m).flatValue,o=this.$SearchSourceCallbackManager21(n);if(this.$SearchSourceCallbackManager15.hasOwnProperty(n))return o;return this.$SearchSourceCallbackManager20(m,o);};k.prototype.$SearchSourceCallbackManager21=function(m){'use strict';var n=0,o=null,p=this.$SearchSourceCallbackManager15;Object.keys(p).forEach(function(q){if(m.indexOf(q)===0&&q.length>n){n=q.length;o=q;}});return (p.hasOwnProperty(o)?Object.keys(p[o]):[]);};k.prototype.$SearchSourceCallbackManager20=function(m,n){'use strict';return n.filter(function(o){return this.$SearchSourceCallbackManager2(m,this.$SearchSourceCallbackManager13[o]);},this);};function l(m){return [m.getTitle(),m.getKeywordString()].join(' ');}f.exports=k;},null);