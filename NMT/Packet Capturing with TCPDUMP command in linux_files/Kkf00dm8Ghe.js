if (self.CavalryLogger) { CavalryLogger.start_js(["Uvrci"]); }

__d("VideoChainingCaller",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={INTERNAL:"internal",WWW_FEED_PIVOTS:"www_feed_pivots",WWW_FEED_SNOWLIFT:"www_feed_snowlift",MISC_PHOTO_SET:"misc_photo_set",MOBILE:"mobile",SEARCH:"search",WWW_FEED_RHC:"www_feed_rhc",WWW_PERMALINK:"www_permalink",MY_VIDEO_CHANNELS_ENT_QUERY:"my_video_channels_ent_query",TOP_FOLLOWED_VIDEO_CHANNELS_ENT_QUERY:"top_followed_video_channels_ent_query",BADGE:"badge",PAGINATION:"pagination",SUBTITLE:"subtitle",CHANNEL_VIEW_FROM_UNKNOWN:"channel_view_from_unknown",CHANNEL_VIEW_FROM_NEWSFEED:"channel_view_from_newsfeed",CHANNEL_VIEW_FROM_SEARCH:"channel_view_from_search",CHANNEL_VIEW_FROM_NEWSFEED_PIVOT:"channel_view_from_newsfeed_pivot",NEWSFEED_PIVOT_INLINE:"newsfeed_pivot_inline",CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION:"channel_view_from_page_call_to_action",CHANNEL_VIEW_FROM_PAGE_TIMELINE:"channel_view_from_page_timeline",CHANNEL_VIEW_FROM_PAGE_TIMELINE_FEATURED:"channel_view_from_page_timeline_featured",CHANNEL_VIEW_FROM_PAGE_VIDEO_TAB:"channel_view_from_page_video_tab",CHANNEL_VIEW_FROM_USER_TIMELINE:"channel_view_from_user_timeline",CHANNEL_VIEW_FROM_USER_VIDEO_TAB:"channel_view_from_user_video_tab",CHANNEL_VIEW_FROM_GROUP_TIMELINE:"channel_view_from_group_timeline",CHANNEL_VIEW_FROM_GROUP_VIDEO_TAB:"channel_view_from_group_video_tab",CHANNEL_VIEW_FROM_SAVED_STORY:"channel_view_from_saved_story",SAVED_STORY_INLINE:"saved_story_inline",CHANNEL_VIEW_FROM_SHARED_WITH_YOU_STORY:"channel_view_from_shared_with_you_story",SHARED_WITH_YOU_STORY_INLINE:"shared_with_you_story_inline",CHANNEL_VIEW_FROM_LATEST_FROM_YOUR_CHANNELS_STORY:"channel_view_from_latest_from_your_channels_story",LATEST_FROM_YOUR_CHANNELS_STORY_INLINE:"latest_from_your_channels_story_inline",CHANNEL_VIEW_FROM_CHANNEL_PIVOT:"channel_view_from_channel_pivot",CHANNEL_PIVOT_INLINE:"channel_pivot_inine",CHANNEL_VIEW_FROM_CHANNEL_RECOMMENDED_CHANNEL_STORY:"channel_view_from_recommended_channel_story",RECOMMENDED_CHANNEL_STORY_INLINE:"recommended_channel_story_inline",CHANNEL_VIEW_FROM_VIDEO_HOME:"channel_view_from_video_home",VIDEO_HOME_INLINE:"video_home_inline",CHANNEL_VIEW_FROM_CASTING:"channel_view_from_casting",VIDEO_HOME_FEED:"video_home_feed",FEED_SURVEY_SWIPE:"feed_survey_swipe",FEED_PIVOTS_INLINE:"feed_pivots_inline",CHANNEL_VIEW_FROM_FEED_PIVOTS:"channel_view_from_feed_pivots",VIDEO_SETS_CACHE_REFRESH:"video_sets_cache_refresh",VIDEO_SETS_CACHE_CHECK:"video_sets_cache_check",DUMMY_STORY_RECOMMENDED_VIDEOS:"dummy_story_recommended_videos",DUMMY_STORY_FRIENDS_ENJOYING:"dummy_story_friends_enjoying",LIVE_VIDEOS_SET:"live_videos_set",DUMMY_STORY_FRIENDS_ENJOYING_NOW:"dummy_story_friends_enjoying_now",DUMMY_STORY_DUMMY_ACTION:"dummy_story_dummy_action",OCULUS_VIDEO:"oculus_video",TRENDING_DEMOGRAPHICS_LIVE:"trending_demographics_live",LIVE_MAP:"live_map",UNCONNECTED_LIVE_VIDEO:"unconnected_live_video"};},null);
__d('PopoverMenu.react',['cx','CSS','InlineBlock.react','Popover','PopoverMenu','React','ReactDOM','SubscriptionsHandler','joinClasses','areEqual','setImmediate'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactPopoverMenu',statics:{getFirstChild:function(k){var l=k.children;return Array.isArray(l)?l[0]:l;},getButtonSize:function(k){var l=j.getFirstChild(k);return l&&l.type.getButtonSize(l.props);}},propTypes:{alignh:i.oneOf(['left','center','right']),alignv:i.oneOf(['baseline','bottom','middle','top']),position:i.oneOf(['above','below','left','right']),layerBehaviors:i.array,menu:i.object.isRequired,disabled:i.bool,disableArrowKeyActivation:i.bool,enableActivationOnEnter:i.bool},getDefaultProps:function(){return {alignv:'middle'};},_menuSubscriptions:null,componentDidMount:function(){var k=c('ReactDOM').findDOMNode(this.refs.root),l=k.firstChild;c('CSS').addClass(l,"_p");this._popover=new (c('Popover'))(k,l,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter});this._popoverMenu=new (c('PopoverMenu'))(this._popover,l,this._createMenu(this.props.menu),this.props.behaviors);},componentDidUpdate:function(k){if(!c('areEqual')(k.menu,this.props.menu))c('setImmediate')(this._recreateMenu);if(this.props.alignh!==k.alignh)this._popoverMenu.getPopover().getLayer().setAlignment(this.props.alignh);if(this.props.disabled!==k.disabled)if(this.props.disabled){this._popoverMenu.disable();}else this._popoverMenu.enable();},_recreateMenu:function(){if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._unmountCurrentMenuItems();this._popoverMenu.setMenu(this._createMenu(this.props.menu));},render:function(){var k=c('React').Children.map(this.props.children,function(l,m){if(m===0){return c('React').cloneElement(l,{className:c('joinClasses')(l.props.className,"_p")});}else return l;});return (c('React').createElement(c('InlineBlock.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"uiPopover"),ref:'root',disabled:null}),k));},componentWillUnmount:function(){this.hidePopover();if(this._menuSubscriptions){this._menuSubscriptions.release();this._menuSubscriptions=null;}this._popoverMenu&&this._popoverMenu.destroy();},_createMenu:function(k){var l=k.props,m=new k.type(l);this._menuSubscriptions=new (c('SubscriptionsHandler'))();if(l.onItemClick)this._menuSubscriptions.addSubscriptions(m.subscribe('itemclick',l.onItemClick));if(l.onItemFocus)this._menuSubscriptions.addSubscriptions(m.subscribe('focus',l.onItemFocus));if(l.onItemBlur)this._menuSubscriptions.addSubscriptions(m.subscribe('blur',l.onItemBlur));if(l.onChange)this._menuSubscriptions.addSubscriptions(m.subscribe('change',l.onChange));if(this.props.onShow)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('show',this.props.onShow));if(this.props.onHide)this._menuSubscriptions.addSubscriptions(this._popover.subscribe('hide',this.props.onHide));return m;},getMenu:function(){return this._popoverMenu.getMenu();},showPopover:function(k){this._popover.showLayer();if(k){var l=this._popoverMenu.getMenu();l.blur();l.focusAnItem(k);}},hidePopover:function(){var k=this._popover;if(k&&k.isShown())k.hideLayer();},getFocusedItem:function(){var k=this._popoverMenu.getMenu();return k.getFocusedItem();},_unmountCurrentMenuItems:function(){var k=this.getMenu();k&&k.forEachItem(function(l){var m=l.getRoot().firstElementChild;m&&c('ReactDOM').unmountComponentAtNode(m);});}});f.exports=j;},null);
__d('MenuItemNoAction',['MenuItem'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MenuItem'));i=h&&h.prototype;j.prototype.hasAction=function(){'use strict';return false;};function j(){'use strict';h.apply(this,arguments);}f.exports=j;},null);
__d('ReactMenu',['cx','Menu','MenuItem','MenuItemNoAction','MenuSelectableItem','MenuTheme','React','SelectableMenu','joinClasses'],function a(b,c,d,e,f,g,h){var i,j,k,l;if(c.__markCompiled)c.__markCompiled();function m(q){var r=[];c('React').Children.forEach(q,function(s){if(s)r.push(s);});return r;}function n(q){q.isReactLegacyFactory={};q.type=q;}i=babelHelpers.inherits(o,c('Menu'));j=i&&i.prototype;function o(q,r){'use strict';var s=babelHelpers['extends']({theme:c('MenuTheme'),maxheight:q?q.maxheight:null,className:q?q.className:null},r);j.constructor.call(this,m(q.children),s);}n(o);k=babelHelpers.inherits(p,c('SelectableMenu'));l=k&&k.prototype;function p(q,r){'use strict';var s=babelHelpers['extends']({className:c('joinClasses')("_57di",q?q.className:null),theme:c('MenuTheme'),multiple:q&&q.multiple,maxheight:q?q.maxheight:null},r);l.constructor.call(this,m(q.children),s);}n(p);o.SelectableMenu=p;n(c('MenuItem'));o.Item=c('MenuItem');o.ItemNoAction=c('MenuItemNoAction');n(c('MenuSelectableItem'));o.SelectableItem=c('MenuSelectableItem');f.exports=o;},null);
__d('ReactXUIMenu',['ReactMenu','XUIMenuTheme','XUIMenuWithSquareCorner'],function a(b,c,d,e,f,g){var h,i,j,k;if(c.__markCompiled)c.__markCompiled();function l(o){o.isReactLegacyFactory={};o.type=o;}h=babelHelpers.inherits(m,c('ReactMenu'));i=h&&h.prototype;function m(o){'use strict';var p={theme:c('XUIMenuTheme')};if(!o||o.withsquarecorner!==false)p.behaviors=[c('XUIMenuWithSquareCorner')];i.constructor.call(this,o,p);}l(m);j=babelHelpers.inherits(n,c('ReactMenu').SelectableMenu);k=j&&j.prototype;function n(o){'use strict';var p={theme:c('XUIMenuTheme')};if(!o||o.withsquarecorner!==false)p.behaviors=[c('XUIMenuWithSquareCorner')];k.constructor.call(this,o,p);}l(n);m.SelectableMenu=n;m.Item=c('ReactMenu').Item;m.SelectableItem=c('ReactMenu').SelectableItem;f.exports=m;},null);
__d('UFIOrderingModeSelector.react',['cx','ix','BanzaiLogger','InlineBlock.react','Link.react','React','Image.react','Random','ReactXUIMenu','PopoverMenu.react','UFIConfig'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('ReactXUIMenu').SelectableMenu,l=c('ReactXUIMenu').SelectableItem,m=c('React').createClass({displayName:'UFIOrderingModeSelector',propTypes:{onOrderChanged:j.func,feedback:j.shape({orderingmodes:j.array.isRequired,commentstargetfbid:j.string.isRequired,ownerid:j.string.isRequired}).isRequired},getInitialState:function(){var n=null;this.props.feedback.orderingmodes.map(function(o){if(o.selected)n=o;});return {selectedMode:n};},onMenuItemClick:function(n,o){var p=o.item.getValue();if(this.props.feedback.orderingmodes&&c('UFIConfig').logChangeOrderingModeUsageSampleRate>c('Random').random())c('BanzaiLogger').log('CommentsOrderingModeSelectorUsageLoggerConfig',{start_order:this.state.selectedMode.value,end_order:p,post_fbid:this.props.feedback.commentstargetfbid,post_owner_fbid:this.props.feedback.ownerid,available_orders:this.props.feedback.orderingmodes.map(function(q){return q.value;})});this.props.feedback.orderingmodes.map(function(q){if(q.value===p)this.setState({selectedMode:q});}.bind(this));this.props.onOrderChanged(p);},render:function(){var n=c('React').createElement(k,{className:"_4tju",onItemClick:this.onMenuItemClick},this.props.feedback.orderingmodes.map(function(o){return (c('React').createElement(l,{key:o.value,value:o.value,label:o.name,selected:o.value===this.state.selectedMode.value},c('React').createElement('div',{className:"_3scm"},c('React').createElement('div',{className:"_3scn"},o.name),c('React').createElement('div',{className:"_3sco"},o.description))));}.bind(this)));return (c('React').createElement('div',{className:"_3scp"},c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('PopoverMenu.react'),{className:"_3scs",menu:n,alignh:'right'},c('React').createElement(c('Link.react'),null,this.state.selectedMode.name,c('React').createElement(c('Image.react'),{className:"_3sct",src:i('/images/ui/xhp/link/more/down_caret.gif')}))))));}});f.exports=m;},null);
__d('PageLikeButtonLazy',['Arbiter','Bootloader','Event','PageLikeConstants','SubscriptionsHandler','ifRequired','setImmediate'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new (c('SubscriptionsHandler'))(),i=[],j=false,k=false,l=c('PageLikeConstants').LIKED,m=c('PageLikeConstants').UNLIKED,n=c('PageLikeConstants').SPM_CALLOUT,o=c('PageLikeConstants').LAZY_CLICK,p={init:function(){for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];c('ifRequired')('PageLikeButton',function(t){return t.init.apply(t,r);},function(){r[11]=babelHelpers['extends']({},r[11],{isLazy:true});this._startListening(r[1]);i.push(r);}.bind(this));},_startListening:function(q){if(!j){j=true;h.addSubscriptions(c('Arbiter').subscribe([l,m,n],function(event,r){c('Arbiter').inform(event+'.lazy',r,c('Arbiter').BEHAVIOR_PERSISTENT);this._bootload();}.bind(this)));}h.addSubscriptions(c('Event').listen(q,'click',function(event){c('Arbiter').inform(o,{event:event,node:q},c('Arbiter').BEHAVIOR_PERSISTENT);c('setImmediate')(function(){return this._bootload();}.bind(this));}.bind(this)));},_bootload:function(){if(k)return;k=true;c('Bootloader').loadModules(["PageLikeButton"],function(q){h.release();i.forEach(function(r){return q.init.apply(q,r);});},'PageLikeButtonLazy');}};f.exports=p;},null);
__d('SwapButton',['DOM','Event','Focus'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l){c('DOM').insertAfter(k,j);c('DOM').remove(k);l&&c('Focus').setWithoutOutline(j);}function i(j,k,l){'use strict';this._swapperButton=j;this._swappeeButton=k;c('Event').listen(j,'click',h.bind(null,k,j,true));if(l)c('Event').listen(k,'click',h.bind(null,j,k,true));}i.prototype.swap=function(j){'use strict';if(this._swapperButton.parentNode)h(this._swappeeButton,this._swapperButton,j);};i.prototype.unswap=function(j){'use strict';if(!this._swapperButton.parentNode)h(this._swapperButton,this._swappeeButton,j);};i.prototype.toggle=function(j){'use strict';if(this._swapperButton.parentNode){this.swap(j);}else this.unswap(j);};i.prototype.getCurrentButton=function(){'use strict';return this._swapperButton.parentNode?this._swapperButton:this._swappeeButton;};Object.assign(i.prototype,{_swapperButton:null,_swappeeButton:null});f.exports=i;},null);
__d('HoverButton',['csx','cx','AsyncRequest','CSS','DOM','URI'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l,m,n){'use strict';this._button=k;this._flyout=l;this._flyoutAjaxify=n;this._flyoutContent=m;l.subscribe('show',this._onShow.bind(this));l.subscribe('hide',this._onHide.bind(this));}j.prototype.showFlyoutBriefly=function(){'use strict';this.showFlyout();this._flyout.hideFlyoutDelayed(5000);};j.prototype.showFlyout=function(){'use strict';this._flyout.showFlyout(this._button,true);this._flyout.inform('show',this._button);};j.prototype.hideFlyout=function(){'use strict';this._flyout.hideFlyout(true);this._flyout.inform('hide',this._button);};j.prototype.enableButton=function(){'use strict';this._flyout.initNode(this._button);};j.prototype.disableButton=function(){'use strict';this.hideFlyout();this._flyout.deactivateNode(this._button);};j.prototype._onShow=function(k,l){'use strict';c('CSS').addClass(l,"_52nd");if(c('CSS').hasClass(l,'uiButton')||c('CSS').matchesSelector(l,"._42fu"))c('CSS').addClass(l,'selected');if(this._flyoutAjaxify){c('CSS').addClass(this._flyoutContent,'async_saving');new (c('AsyncRequest'))().setURI(new (c('URI'))(this._flyoutAjaxify)).setHandler(function(m){c('CSS').removeClass(this._flyoutContent,'async_saving');c('DOM').setContent(this._flyoutContent,m.payload);}.bind(this)).send();this._flyoutAjaxify=null;}};j.prototype._onHide=function(k,l){'use strict';c('CSS').removeClass(l,"_52nd");if(c('CSS').hasClass(l,'uiButton')||c('CSS').matchesSelector(l,"._42fu"))c('CSS').removeClass(l,'selected');};j.prototype.destroy=function(){'use strict';this.hideFlyout();this._flyout.destroy();};j.prototype.suppressNextMouseEnter=function(){'use strict';this._flyout.setActiveNode(this._button);};Object.assign(j.prototype,{_button:null,_flyout:null,_flyoutAjaxify:null,_flyoutContent:null});f.exports=j;},null);
__d('HoverFlyout',['Arbiter','ArbiterMixin','DataStore','Event','Keys','arrayContains','mixin','removeFromArray','shield'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this);if(k){this._showDelay=m;this._hideDelay=n;this.init(k);if(l)this.initNode(l);}c('Arbiter').subscribe('SwapButtonDEPRECATED/focusOnJoinButton',c('shield')(this.hideFlyout,this),c('Arbiter').SUBSCRIBE_ALL);}j.prototype.init=function(k){'use strict';this._flyout=k;this._showDelay=this._showDelay||0;this._hideDelay=this._hideDelay||100;this._showTimeout=null;this._hideTimeout=null;this._flyoutSubscriptions=[this._flyout.subscribe('mouseenter',this._onFlyoutMouseEnter.bind(this)),this._flyout.subscribe('mouseleave',c('shield')(this.hideFlyout,this))];this._nodes=[];this._dataStoreUnique='HoverFlyout_'+Date.now()+'_listeners';return this;};j.prototype.initNode=function(k){'use strict';if(c('arrayContains')(this._nodes,k))return this;this._nodes.push(k);c('DataStore').set(k,this._dataStoreUnique,[c('Event').listen(k,'mouseenter',this._onNodeMouseEnter.bind(this,k)),c('Event').listen(k,'mouseleave',c('shield')(this.hideFlyout,this)),c('Event').listen(k,'click',this._onNodeMouseEnter.bind(this,k)),c('Event').listen(k,'keydown',this._onNodeKeyEscape.bind(this))]);return this;};j.prototype.deactivateNode=function(k){'use strict';var l=c('DataStore').get(k,this._dataStoreUnique);if(l)while(l.length)l.pop().remove();c('removeFromArray')(this._nodes,k);};j.prototype.setShowDelay=function(k){'use strict';this._showDelay=k;return this;};j.prototype.setHideDelay=function(k){'use strict';this._hideDelay=k;return this;};j.prototype.showFlyout=function(k,l){'use strict';this.setActiveNode(k);if(l){this._flyout.setContext(k).show();this.inform('show',k);}else this._showTimeout=setTimeout(this.showFlyout.bind(this,k,true),this._showDelay);return this;};j.prototype.hideFlyout=function(k){'use strict';clearTimeout(this._showTimeout);if(k){this._flyout.hide();this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}else this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),this._hideDelay);};j.prototype.hideFlyoutDelayed=function(k){'use strict';clearTimeout(this._showTimeout);clearTimeout(this._hideTimeout);this._hideTimeout=setTimeout(this.hideFlyout.bind(this,true),k);};j.prototype.getActiveNode=function(){'use strict';return this._activeNode;};j.prototype.setActiveNode=function(k){'use strict';clearTimeout(this._hideTimeout);if(this._activeNode&&this._activeNode!==k)this.hideFlyout(true);this._activeNode=k;return this;};j.prototype.clearNodes=function(){'use strict';for(var k=this._nodes.length;k>0;k--)this.deactivateNode(this._nodes[k-1]);};j.prototype.destroy=function(){'use strict';while(this._flyoutSubscriptions.length)this._flyout.unsubscribe(this._flyoutSubscriptions.pop());this.clearNodes();};j.prototype._onNodeMouseEnter=function(k){'use strict';if(this._activeNode===k){clearTimeout(this._hideTimeout);}else this.showFlyout(k);};j.prototype._onFlyoutMouseEnter=function(){'use strict';clearTimeout(this._hideTimeout);};j.prototype._onNodeKeyEscape=function(event){'use strict';if(c('Event').getKeyCode(event)===c('Keys').ESC){this._activeNode&&this.inform('hide',this._activeNode);this._activeNode=null;}};f.exports=b.HoverFlyout||j;},null);